trigger: none

pool:
  # vmImage: 'ubuntu-latest'
  name: selfhosted

jobs:
- job: BuildAndTest
  displayName: "Build, Test, and Analyze"
  steps:

    - task: SonarCloudPrepare@3
      inputs:
        SonarCloud: 'sonar-cloud'
        organization: 'brainupgrade-in'
        scannerMode: 'other'
    # Run Code Analysis task
    - task: SonarCloudAnalyze@3

    # Publish Quality Gate Result task
    - task: SonarCloudPublish@3
      inputs:
        pollingTimeoutSec: '300'       
